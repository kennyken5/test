 # 作ろう！ＣＰＵ　基礎から理解するコンピューターのしくみ／上原周

 ## part.0　まえがき

 ### 章0 はじめに

0.1　略
0.2　略
0.3　どんなＣＰＵを作るのか
TD4というCPUを作る。これは書籍「CPUの創り方」題材である。
ハードウエア記述言語で書くCPU回路図のコード行数は69行。
マザボやメモリを合わせても130行程度
0.4　完成版の回路図
0.5　プログラムを走らせる
0.6　本書の読み方

 ## part.1　回路の基礎

二進数や加算器を扱うのはずっと先、11章である。
章１で回路を作り、学校科学とは異なる見かたをする。
章２と章３ではnMOS（トランジスタ）を追加する。
章４では回路図をソースコードに変換する。

 ### 章1 電池と抵抗の論理回路
自1.01至1.11

電気回路ではなく、論理回路。グラフ理論。

1.5　論理回路の定義
条件１　電圧条件　回路の全ワイヤーの電圧が２値である。
条件２　矢印条件　回路を等電圧領域に分割すると木構造になる。

1.7　非論理回路（電圧条件の破綻）
その１　ショート回路。火が出るのであぶない。この回路の場合、ワイヤーは極めて小さな値の電気抵抗とみなせる。
その２　直列抵抗回路。抵抗間のワイヤーが電圧条件に反する。なお、直列抵抗回路は本書の狙いに反する（論理経路にならない）だけで日常的には大変有用である。
その３　直列抵抗を含む回路。その２と同じ。
直列抵抗回路は本書の狙いに反するが、並列抵抗回路なら合致する。

1.8　非論理回路（矢印条件の破綻）
枝の中にサイクルないし閉路があると矢印が衝突し、矢印条件に反する。

1.9　一般的な論理回路
ようするに論理回路とは、枝の生えた並列抵抗回路である。

1.a　スイッチ
これまでワイヤー、電池、抵抗の３パーツで構成される倫理回路を見てきた。本節ではスイッチを追加する。
閉じたスイッチはただのワイヤーであり、開いたスイッチは断線したワイヤーである。

さて、スイッチを含む回路で論理回路にならない例を考える。
おおむねスイッチを閉じるとショートする回路である。

1.b　回路図を元に相空間を構成できる。


 ### 章2 トランジスタと論理ゲート
自2.01至2.08

2.1　nMOS
nMOSの正式名称は、
 nMOSFET
Negative-type metal oxide semiconductor field effect transister
n型金属酸化膜半導体電界効果トランジスタ

スイッチは操作に人力が必要である。
nMOSは電圧変化を感知してスイッチを開閉するパーツである。
本書では束縛条件と呼ぶことにする。

2.2　状態
2.3　NOTゲート
2.4　電池の省略記法
図に省略を重ねてNOTゲート図を少なくする
2.5　モジュールと入出力ポート
ワイヤーを切って回路の一部を取り出したものをモジュールという。
切られたワイヤーはモジュールの入力ポートや出力ポートとなる。
本文p.37上図の右部分のように、一般に入力ポートを持つモジュールは非論理回路である。
2.6　NANDゲート
２つの入力ポートと１つの出力ポートを持つモジュールである。

３つの描き方
・MIL記号。半円のANDと小さい丸のNOT
・数式表現。c=～(a&b)
・真理表

 a b | c
 1 1 | 0
 1 0 | 1
 0 1 | 1
 0 0 | 1

2.7 その他の論理ゲート
NOT ~a aが1の場合のみ0
AND a&b aとbが両方1の場合のみ1
NAND ~(a&b) aとbが両方1の場合のみ0
OR a|b aとbが両方0の場合のみ0
NOR ~(a|b) aとbが両方0の場合のみ1
XOR (a=!b) aとbが同じ場合のみ0
XNOR (a==b) aとbが同じ場合のみ1

2.8　なぜ論理ゲートを使うのか
さて、多くの文献は「論理ゲートを使うとブール代数が実現できるので嬉しい」という立場である。主流の考えである。
はじめに抽象的なブール代数があり、それを電子回路で実装したい、という思想。情報処理を主役とする考え方だ。

本書はそれと正反対の立場である。回路に良い条件を課すためにである。

論理回路に含まれるNOTゲートの入出力ポートの矢印は、電圧に寄らず標準的な向きで固定し、逆転しない。
論理ゲートで回路を組むと、「電圧は動的・矢印は静的」になる。

ハードウェア記述言語におけるモジュール分割の理論的根拠となる、



 ### 章3 ゲートの回路

 ### 章4 ハードウェア記述言語

 ## part.2　ＣＰＵの材料
 
 ### 章5 組合回路

 ### 章6 真理値表のコーディング

 ### 章7 Ｄフリップフロップ

 ### 章8 状態遷移の一般論

 ## part.3　ＣＰＵを作る

 ### 章9 ＬＥＤチカチカ回路

 ### 章a 1bitのコンピューター

 ### 章b 多重ワイヤー

 ### 章c ＴＤ４

 ## part.4　ＴＤ４の先へ

 ### 章d コードの抽象化

 ### 章e 高度なトピック

 ### 章f　付録・力学系としての論理回路

 ## postword　あとがき
 

